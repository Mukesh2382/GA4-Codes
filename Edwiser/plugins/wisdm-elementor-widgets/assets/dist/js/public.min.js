!(function ($) {
    "use strict";
    function logoCarousel($scope, $) {
        var $_this = $scope.find(".logo-carousel"),
          $currentID = "#" + $_this.attr("id"),
          $loop = $_this.data("loop"),
          $dots = $_this.data("dots"),
          $navs = $_this.data("navs"),
          $margin = $_this.data("margin");
        $($currentID).owlCarousel({
          loop: $loop,
          margin: $margin,
          nav: $navs,
          dots: $dots,
          responsive: { 0: { items: 1 }, 600: { items: 3 }, 1e3: { items: 4 } },
        });
    }
    
    function editor_mode_on() {
      return window.location.href.includes("elementor-preview");
    }

    $(document).ready(function () {
        if(!editor_mode_on()){
            let scope = $('body');
            logoCarousel(scope,$);
            
            // Get the modal
            $(document).on('click', function(event) {
                if ($(event.target).has('.feature-box-modal').length) {
                    $(".lightbox").hide();
                }
            });
            $(document).ready(function() {
              $(".open-modal").click(function(){
                  var parent = $(this).closest('.wdm-feature-block');
                  var modal = $(this).data('modal');
                  var screenshot = $(this).data('screenshot');
                  var title = $(parent).find('h4.wdm-fb-title');
                  var subtitle = $(parent).find('h4.wdm-fb-subtitle');
                  var para = $(parent).find('.wdm-fb-para-hidden');

                  if(modal!=null && modal !== undefined){
                      $('#' + modal).show();
                      $(".site-header").hide();
                      $("body").css('overflow','hidden');
                      $("h4.wdm-lb-title").html(title.html());
                      $("h4.wdm-lb-subtitle").html(subtitle.html());
                      $(".wdm-lb-para").html(para.html());
                      $(".wdm-lb-screenshot-img").attr("src",screenshot);
                  }
              });
              $(".feature-box-modal .close").click(function(){
                  var parent = $(this).closest('.feature-box-modal');
                  $(".site-header").show();
                  parent.hide();
                  $("body").css('overflow','visible');
              });
          });
        }


    }),
    $(window).on("elementor/frontend/init", function () {
        if(editor_mode_on()){
            elementorFrontend.hooks.addAction('frontend/element_ready/myewpricing-logo-carousel-id.default', logoCarousel);
            elementorFrontend.hooks.addAction('frontend/element_ready/myewpricing-sneakpeek-id.default', logoCarousel);
        }
    });
})(jQuery);
  